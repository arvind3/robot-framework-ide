.vscode{display:grid;grid-template-rows:56px 1fr;height:100vh}
.vscode.right-closed{grid-template-columns:340px 1fr}
.vscode.right-open{grid-template-columns:340px 1fr 360px}

.topbar{grid-column:1/-1;display:flex;justify-content:space-between;align-items:center;gap:12px;padding:10px 14px;border-bottom:1px solid #233046;background:#101827}
.brand{display:flex;align-items:center;gap:10px}
.muted{color:#90a1bb;font-size:12px}
.top-actions{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.top-actions select{min-width:300px;background:#0f172a;color:#e2e8f0;border:1px solid #334155;border-radius:8px;padding:6px}
.health{font-size:11px;padding:4px 8px;border-radius:999px;border:1px solid #334155}
.health.ok{color:#86efac;border-color:#166534}.health.degraded{color:#fca5a5;border-color:#7f1d1d}
button{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:7px 10px;cursor:pointer;white-space:nowrap}
h4{margin:8px 10px;color:#cbd5e1}
h3{margin:0;color:#e2e8f0}

.left{border-right:1px solid #233046;background:#0f172a;padding:10px;overflow:auto;min-width:0;display:flex;flex-direction:column}
.explorer-head{display:flex;justify-content:space-between;align-items:center;gap:8px}
.icon-actions{display:flex;gap:6px;flex-wrap:wrap}
.icon-actions button{padding:6px 8px;font-size:12px}
.icon-actions.block{margin-top:10px}
.filetree{list-style:none;padding:0;margin:10px 0 0}
.filetree li{padding:8px;border-radius:6px;cursor:pointer;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.filetree li:hover{background:#1e293b}
.filetree li.active{background:#1d4ed833}
.artifacts-title{margin:14px 0 6px;color:#9fb4d5;font-size:12px}
.artifacts-list{max-height:160px;overflow:auto}
.left-footer{margin-top:auto;display:flex;gap:8px;padding-top:10px;position:sticky;bottom:0;background:linear-gradient(180deg,rgba(15,23,42,0),rgba(15,23,42,1) 25%)}
.muted-li{color:#7b8aa3;font-style:italic}

.center{display:flex;flex-direction:column;min-width:0;height:calc(100vh - 56px)}
.editor-head{padding:8px 12px;border-bottom:1px solid #233046;background:#0f172a;color:#a7b7ce;font-size:13px}
.editor-pane{flex:1;min-height:0}
.terminal{border-top:1px solid #233046;background:#0a1220;min-height:220px;height:34%;display:flex;flex-direction:column}
.error-banner{display:flex;justify-content:space-between;gap:8px;align-items:center;padding:8px 10px;background:#3f1a1a;color:#fecaca;border-bottom:1px solid #7f1d1d;font-size:12px}
.terminal-log{flex:1;overflow:auto;padding:10px;font-family:ui-monospace,Consolas,monospace;font-size:12px;white-space:pre-wrap}
.terminal-input{display:flex;gap:8px;padding:8px;border-top:1px solid #233046;align-items:center}
.terminal-input::before{content:'$';color:#86efac;font-family:ui-monospace,Consolas,monospace;font-size:13px}
.terminal-input input{flex:1;background:#111827;color:#e5eefc;border:1px solid #334155;border-radius:8px;padding:8px;font-family:ui-monospace,Consolas,monospace}

.right{border-left:1px solid #233046;background:#0f172a;overflow:hidden;min-width:0}
.right.collapsed{display:none}
.right-head{display:flex;justify-content:flex-start;align-items:center;padding:10px;border-bottom:1px solid #233046;gap:8px}
.coach-layout{display:grid;height:calc(100% - 52px)}
.coach-top{overflow:auto}
.coach-bottom{overflow:auto;display:flex;flex-direction:column;min-height:0}
.coach-splitter{cursor:row-resize;background:#1f2b3d;border-top:1px solid #2f3f56;border-bottom:1px solid #2f3f56}
.coach-splitter:hover{background:#2a3a53}
.coach{padding:10px;margin:0;white-space:pre-wrap;font-size:12px;color:#d9e5ff;max-height:22vh;overflow:auto}
.coach-chat{padding:10px;display:grid;gap:8px;flex:1;overflow:auto;border-top:1px solid #233046;border-bottom:1px solid #233046}
.coach-empty{color:#93a4bd;font-size:12px}
.bubble{padding:8px;border-radius:8px;font-size:12px;white-space:pre-wrap}
.bubble.user{background:#1d4ed833;border:1px solid #1d4ed8}
.bubble.assistant{background:#1f2937;border:1px solid #334155}
.coach-input{display:flex;gap:8px;padding:10px;position:sticky;bottom:0;background:#0f172a;border-top:1px solid #233046}
.coach-input input{flex:1;background:#111827;color:#e5eefc;border:1px solid #334155;border-radius:8px;padding:8px}

.context-menu{position:fixed;z-index:30;background:#111827;border:1px solid #334155;border-radius:8px;padding:6px;display:grid;gap:6px;min-width:120px;box-shadow:0 8px 24px rgba(0,0,0,.35)}
.context-menu button{width:100%;text-align:left;background:#1f2937}

.help-overlay{position:fixed;inset:0;background:rgba(3,8,20,.65);display:flex;align-items:center;justify-content:center;z-index:40}
.help-modal{width:min(760px,92vw);max-height:85vh;overflow:auto;background:#0f172a;border:1px solid #334155;border-radius:12px;padding:14px;box-shadow:0 12px 40px rgba(0,0,0,.45)}
.help-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.help-modal ul{margin:8px 0 12px 18px;display:grid;gap:6px}
.help-modal p{color:#c9d6ea;font-size:13px}
.help-modal code{background:#111827;border:1px solid #334155;border-radius:6px;padding:1px 5px}

.build-stamp{position:fixed;right:10px;bottom:8px;font-size:10px;color:#7f8ea3;background:#0f172a;border:1px solid #334155;border-radius:999px;padding:3px 8px;opacity:.9}

@media (max-width: 1200px){
  .vscode.right-closed{grid-template-columns:280px 1fr}
  .vscode.right-open{grid-template-columns:280px 1fr 300px}
  .top-actions select{min-width:220px}
}
@media (max-width: 900px){
  .vscode{grid-template-rows:56px auto auto auto}
  .vscode.right-closed,.vscode.right-open{grid-template-columns:1fr}
  .topbar{flex-direction:column;align-items:stretch}
  .left,.center,.right{grid-column:1/-1}
  .left{max-height:240px;border-right:none;border-bottom:1px solid #233046}
  .center{height:auto;min-height:60vh}
  .terminal{height:34vh}
  .right{border-left:none;border-top:1px solid #233046}
  .right.open{height:320px}
}
